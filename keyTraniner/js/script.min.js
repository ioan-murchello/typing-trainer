"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var dspan,span,isEvent=!1,timer_time=document.querySelector(".timer_time"),index=0,displayedLetters=document.querySelector(".displayed__letters"),pressedLetters=document.querySelector(".pressed__letters"),checkbox=document.querySelector("#checkbox"),mistakes=document.querySelector(".mistakes_sum"),btn_level=document.querySelector(".level_menu"),level=btn_level.textContent,easy=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","key","l",";","'","z","x","c","v","b","n","m",",",".","/"," "],medium=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","key","l",";","'","z","x","c","v","b","n","m",",",".","/"," ","`","1","2","3","4","5","6","7","8","9","0","-","="],hard=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","key","l",";","'","z","x","c","v","b","n","m",",",".","/"," ","`","1","2","3","4","5","6","7","8","9","0","-","=","Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],str="",i=0,currency_mistakes="",lettersLength=60;function random(e){switch(e){case"easy":str=easyLevel();break;case"medium":str=mediumLevel();break;case"hard":str=hardLevel()}for(;i<lettersLength;i++)create(span,displayedLetters,str[i],"forspan"),create(dspan,pressedLetters,"","forspan")}function ran(e,t){return Math.floor(Math.random()*t-e+1)+e}function easyLevel(){var e="";do{for(var t=Math.floor(4*Math.random())+1,r=easy[Math.floor(Math.random()*easy.length)],n=0;n<t&&(e+=r).length!=lettersLength;n++);}while(e.length!=lettersLength);return e}function mediumLevel(){var e="";do{for(var t=Math.floor(2*Math.random())+1,r=medium[Math.floor(Math.random()*easy.length)],n=0;n<t&&(e+=r).length!=lettersLength;n++);}while(e.length!=lettersLength);return e}function hardLevel(){var e="";do{for(var t=Math.floor(2*Math.random())+1,r=hard[ran(0,hard.length-1)],n=0;n<t&&(e+=r).length!=lettersLength;n++);}while(e.length!=lettersLength);return e}function create(e,t,r,n){(e=document.createElement("span")).classList.add(n),e.textContent=r,t.append(e)}random(level),document.addEventListener("keyup",(function(e){document.querySelectorAll(".num").forEach((function(t){e.key==t.textContent&&t.classList.remove("active_background"),"ShiftLeft"===e.code&&"left"===t.getAttribute("data-left")&&t.classList.remove("active_background"),"ShiftRight"===e.code&&"right"===t.getAttribute("data-right")&&t.classList.remove("active_background"),"ShiftRight"===e.code&&"right"===t.getAttribute("data-right")&&t.classList.remove("active_background"),"Space"===e.code&&"space"===t.textContent&&t.classList.remove("active_background")}))}));var onPressLetter=pressedLetters.querySelectorAll("span");onPressLetter[0].cssText="background:#000;color:#000",onPressLetter[0].textContent=" ",onPressLetter[index].classList.add("anim");var letterOnDisplay=displayedLetters.querySelectorAll("span");function changeLevel(e,t,r,n){t.textContent=e.textContent,r=e.textContent,console.log(r),random(r),wrapper(),n.classList.remove("hide")}function wrapper(){document.addEventListener("keypress",(function e(t){if(document.querySelectorAll(".num").forEach((function(e){t.key===e.textContent&&e.classList.add("active_background"),"ShiftLeft"===t.code&&"left"===e.getAttribute("data-shift")&&e.classList.add("active_background"),"ShiftRight"===t.code&&"right"===e.getAttribute("data-shift")&&e.classList.add("active_background"),"Space"===t.code&&"space"===e.textContent&&e.classList.add("active_background"),t.target===e.getAttribute("data-key")&&(console.log("hierrrr"),e.classList.add("active_background"))})),onPressLetter[index].style.color="#44a9ff","Enter"!==t.key&&(onPressLetter[index].textContent=t.key,t.key!=letterOnDisplay[index].textContent&&(currency_mistakes++,mistakes.textContent=currency_mistakes),t.key===letterOnDisplay[index].textContent)){if(59==index&&t.key===letterOnDisplay[index].textContent)return letterOnDisplay[index].style.border="1px solid #fff",onPressLetter[index].textContent=letterOnDisplay[index].textContent,onPressLetter[index].style.color="#fff",onPressLetter[index].classList.remove("anim"),document.removeEventListener("keypress",e),void location.reload();letterOnDisplay[index].style.border="",letterOnDisplay[index].style.color="rgb(155 182 187)",letterOnDisplay[index+1].style.border="1px solid #fff",onPressLetter[index].textContent=letterOnDisplay[index].textContent,onPressLetter[index].style.color="#fff",onPressLetter[index].classList.remove("anim"),onPressLetter[index+1].classList.add("anim"),index++}}))}letterOnDisplay[index].style.border="1px solid #fff",wrapper();